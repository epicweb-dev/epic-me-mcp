/**
 * Design System Styles
 * 
 * These styles follow the OpenAI Apps SDK design guidelines:
 * https://developers.openai.com/apps-sdk/concepts/design-guidelines
 * 
 * Key principles:
 * - Platform-native system fonts (SF Pro, Roboto)
 * - Limited font size variation (body and body-small preferred)
 * - System colors for text, icons, and spatial elements
 * - DO NOT override backgrounds or text colors (let system control these)
 * - Brand colors ONLY on primary buttons/CTAs
 * - WCAG AA contrast ratios for accessibility
 * - Consistent spacing and corner radius
 */

@import 'tailwindcss' source('.');

@theme {
	--font-sans:
		-apple-system, BlinkMacSystemFont, 'SF Pro Text', 'SF Pro Display',
		'Roboto', system-ui, ui-sans-serif, sans-serif, 'Apple Color Emoji',
		'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
}

html,
body {
	/* Support both light and dark color schemes to match parent frame */
	color-scheme: light dark;
	/* Transparent background to inherit from parent frame when embedded */
	background: transparent !important;
}

:root {
	/* System-consistent corner radius per OpenAI Apps SDK guidelines */
	--radius: 0.75rem;

	/* Inherit system background and foreground - don't override */
	/* Per guidelines: partners should not override backgrounds or text colors */
	--background: transparent;
	--foreground: light-dark(oklch(0% 0 0), oklch(100% 0 0));

	/* Minimal card surface - barely distinguishable from background */
	--card: light-dark(oklch(98% 0 0), oklch(10% 0 0));
	--card-foreground: light-dark(oklch(0% 0 0), oklch(100% 0 0));

	/* Popover surfaces */
	--popover: light-dark(oklch(100% 0 0), oklch(10% 0 0));
	--popover-foreground: light-dark(oklch(0% 0 0), oklch(100% 0 0));

	/* Brand accent for primary actions (buttons, CTAs) - only place for brand color */
	--primary: oklch(65% 0.15 320);
	--primary-foreground: oklch(100% 0 0);

	/* Secondary UI elements - neutral grays */
	--secondary: light-dark(oklch(95% 0 0), oklch(20% 0 0));
	--secondary-foreground: light-dark(oklch(0% 0 0), oklch(100% 0 0));

	/* Muted elements - subtle text */
	--muted: light-dark(oklch(96% 0 0), oklch(15% 0 0));
	--muted-foreground: light-dark(oklch(45% 0 0), oklch(65% 0 0));

	/* Accent elements (badges, highlights) - use sparingly */
	--accent: light-dark(oklch(96% 0 0), oklch(15% 0 0));
	--accent-foreground: light-dark(oklch(0% 0 0), oklch(100% 0 0));

	/* Borders and dividers - spatial elements only */
	--border: light-dark(oklch(85% 0 0), oklch(30% 0 0));
	--input: light-dark(oklch(85% 0 0), oklch(30% 0 0));
	--input-invalid: oklch(60% 0.2 20);

	/* Destructive actions */
	--destructive: oklch(55% 0.22 25);
	--destructive-foreground: oklch(100% 0 0);
	--foreground-destructive: oklch(50% 0.22 25);

	/* Focus ring - use brand accent */
	--ring: oklch(65% 0.15 320);
}

@theme inline {
	--radius-sm: calc(var(--radius) - 4px);
	--radius-md: calc(var(--radius) - 2px);
	--radius-lg: var(--radius);
	--radius-xl: calc(var(--radius) + 4px);
	--color-background: var(--background);
	--color-foreground: var(--foreground);
	--color-card: var(--card);
	--color-card-foreground: var(--card-foreground);
	--color-popover: var(--popover);
	--color-popover-foreground: var(--popover-foreground);
	--color-primary: var(--primary);
	--color-primary-foreground: var(--primary-foreground);
	--color-secondary: var(--secondary);
	--color-secondary-foreground: var(--secondary-foreground);
	--color-muted: var(--muted);
	--color-muted-foreground: var(--muted-foreground);
	--color-accent: var(--accent);
	--color-accent-foreground: var(--accent-foreground);
	--color-destructive: var(--destructive);
	--color-border: var(--border);
	--color-input: var(--input);
	--color-ring: var(--ring);
	--color-input-invalid: var(--input-invalid);
	--color-destructive-foreground: var(--destructive-foreground);
	--color-foreground-destructive: var(--foreground-destructive);
}

@theme {
	/* Simplified typography scale per OpenAI Apps SDK guidelines */
	/* Limit variation in font size, preferring body and body-small sizes */
	--text-h1: 1.5rem;
	--text-h1--line-height: 2rem;
	--text-h1--font-weight: 600;
	--text-h2: 1.25rem;
	--text-h2--line-height: 1.75rem;
	--text-h2--font-weight: 600;
	--text-h3: 1.125rem;
	--text-h3--line-height: 1.5rem;
	--text-h3--font-weight: 600;
	--text-body: 1rem;
	--text-body--line-height: 1.5rem;
	--text-body--font-weight: 400;
	--text-body-sm: 0.875rem;
	--text-body-sm--line-height: 1.25rem;
	--text-body-sm--font-weight: 400;
	--text-caption: 0.75rem;
	--text-caption--line-height: 1rem;
	--text-caption--font-weight: 500;
}

@utility container {
	/* System grid spacing per OpenAI Apps SDK guidelines */
	margin-inline: auto;
	padding-inline: 1rem;

	@media (width >= 768px) {
		& {
			padding-inline: 1.5rem;
		}
	}

	@media (width >= 1400px) {
		& {
			max-width: 1400px;
			padding-inline: 2rem;
		}
	}
}

@layer base {
	*,
	::after,
	::before,
	::backdrop,
	::file-selector-button {
		border-color: var(--border);
	}
}
